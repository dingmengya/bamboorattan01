 <!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0"/>
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <style type="text/css">
        #classify-list {
            width: 5rem;
            height: 100%;
            background-color: #ffffff;
            overflow-x: hidden;
        }
        #classify-list .aui-list {
            overflow-y: scroll;
        }
        .aui-list .aui-list-item-title {
            font-size: 0.7rem;
        }
    </style>
</head>
<body>
    <header class="aui-bar aui-bar-nav" id="aui-header">
        <a class="aui-btn aui-pull-left" tapmode onclick="closeWin()">
            <span class="aui-iconfont aui-icon-left"></span>  <!--span:白板标签-->
        </a>
        <div class="aui-title">竹属种</div>  <!--div:伪白板标签 ,占一行-->
    </header>
    <section class="aui-content" id="classify-list">
        <ul class="aui-list aui-list-noborder">
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title" id="gang">刚竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">阴阳竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">苦竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">悬竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">簕竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">巴山木竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">单枝竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">方竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">箭竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">巨竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">箬竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">大节竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">少穗竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">赤竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">思劳竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">酸竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">大明竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">唐竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">矢竹属</div>
                </div>
            </li>
            <li class="aui-list-item">
                <div class="aui-list-item-inner">
                    <div class="aui-list-item-title">玉山竹属</div>
                </div>
            </li>
        </ul>
    </section>
</body>
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript">

    var baseUrl="http://47.111.135.7:8081";

    apiready = function(){
        api.parseTapmode();
        var header = $api.byId('aui-header');
        $api.fixStatusBar(header);
        var headerPos = $api.offset(header);
        var body_h = $api.offset($api.dom('body')).h;
        var classifyListH = $api.offset($api.byId('classify-list')).w;
        document.getElementById("classify-list").style.height = api.winHeight-headerPos.h+"px";
        api.openFrame({
            name: 'frame1_frm',
            url: 'frame1_frm.html',
            bounces: true,
            rect: {
                x: classifyListH+5,
                y: headerPos.h,
                w: api.winWidth-classifyListH-5,
                h: 'auto'
            }
        })
    };
    function closeWin(){
        api.closeWin({
        });
    }
    apiready = function(){
      api.parseTapmode();
      var header = $api.byId('aui-header');
      $api.fixStatusBar(header);
      var headerPos = $api.offset(header);
      var body_h = $api.offset($api.dom('body')).h;
      var classifyListH = $api.offset($api.byId('classify-list')).w;
      document.getElementById("classify-list").style.height =  api.winHeight-headerPos.h-100+"px";
      var classifyListH = $api.offset($api.byId('classify-list')).w;

        $("#gang").click(function (){

      api.openFrame({
          name: 'gang',
          url: 'gang.html',
          rect: {
              x:  classifyListH+5,
              y: headerPos.h,
              w: api.winWidth-classifyListH-5,
              marginBottom:70
          },
          bounces: false


      });
    })
    // function loadGenus(){
    //   api.showProgress();//显示加载进度框
    //   api.ajax(
    //   {
    //     url: baseUrl + 'genus/findAll',    
    //     method:'get',     
    //     cache:'false',
    //     timeout:30,
    //     dataType: 'json',
    //     }, function(ret, err) {
    //       api.hideProgress();//隐藏加载进度框
    //       if (ret.code==200)
    //        {              //由于是异步，把处理代码放进来你造吗
    //          var genuses=response.data;
    //          loadSpec(genuses);
    //        } else {
    //          api.alert({msg:('错误码：'+err.code+'；错误信息：'+err.msg+'网络状态码：'+err.statusCode)});
    //        }
    //      });
    //    }


    // function loadGenus(){
    //     api.ajax({
    //         url:baseUrl + 'genus/findAll',
    //         type:'GET',
    //         success:function(response){
    //             if(response.code==200){
    //                 var genuses=response.data;
    //                 loadSpec(genuses);
    //             }
    //         }
    //     });
    // }
    // function loadSpec(genuses){
    //     api.ajax({
    //         url:baseUrl + 'spec/findAll',
    //         type:'GET',
    //         success:function(response){
    //             if(response.code==200){
    //                 var speces= response.data;
    //                 var newGenuses=resetGenus(genuses,speces);
    //                 if(newGenuses.length>0){
    //                     var html='';
    //                     for(var i=0;i<newGenuses.length;i++){
    //                         var genus=newGenuses[i];
    //                         var data=[
    //                             {
    //                                 specImgUrl:'',
    //                                 specName:'暂无'},
    //                             {
    //                                 specImgUrl:'',
    //                                 specName:'暂无'},
    //                             {
    //                                 specImgUrl:'',
    //                                 specName:'暂无'},
    //                             {
    //                                 specImgUrl:'',
    //                                 specName:'暂无'}];
    //                         if(typeof genus.speces!='undefined'&&genus.speces.length>0){
    //                             for(var j=0;j<genus.speces.length;j++){
    //                                 var files=genus.speces[j].files;
    //                                 if(files!=null&&files.length>0){
    //                                     for(var k=0;k<files.length;k++){
    //                                         if(files[k].type=='image'){
    //                                             data[j].specImgUrl =baseUrl+'/'+ files[k].path;
    //                                             data[j].specName=genus.speces[j].specNameCh;
    //                                             break;
    //                                         }
    //                                     }
    //                                 }
    //                             }
    //                         }
    //                         html+='\
    //                             <div class="col-sm-2">\
    //                                 <div class="thumbnail" data-id="'+genus.genusId+'">\
    //                                     <img src="'+data[0].specImgUrl+'" alt="'+data[0].specName+'">\
    //                                     <div class="col-xs-4">\
    //                                         <img src="'+data[1].specImgUrl+'" alt="'+data[1].specName+'">\
    //                                     </div>\
    //                                     <div class="col-xs-4">\
    //                                         <img src="'+data[2].specImgUrl+'" alt="'+data[2].specName+'">\
    //                                     </div>\
    //                                     <div class="col-xs-4">\
    //                                         <img src="'+data[3].specImgUrl+'" alt="'+data[3].specName+'">\
    //                                     </div>\
    //                                     <div class="clearfix"></div>\
    //                                     <div class="caption">\
    //                                         <h4>'+genus.genusNameCh+'</h4>\
    //                                     </div>\
    //                                 </div>\
    //                             </div>'
    //                     }
    //                     $('.row').html(html);
    //                     $('.thumbnail').on('click',function(){
    //                         location.href='genusdetail.html?genusId='+$(this).attr('data-id');
    //                     });
    //                 }
    //             }
    //         }
    //     });
    // }
    // function resetGenus(genuses,speces){
    //     if(genuses==null||genuses.length<=0){
    //         return [];
    //     }
    //     if(speces==null||speces.length<=0){
    //         return genuses;
    //     }
    //     var newGenuses=[];
    //     for(var i=0;i<genuses.length;i++){
    //         var newGenus=genuses[i];
    //         newGenus.speces=[];
    //         for(var j=0;j<speces.length;j++){
    //             var spec=speces[j];
    //             if(spec!=null&&spec.genus!=null&&spec.genus.genusId==newGenus.genusId){
    //                 if(newGenus.speces.length<4){
    //                     newGenus.speces.push(spec);
    //                 }else{
    //                     newGenus.speces=replaceByHasImg(newGenus.speces,spec);
    //                 }
    //             }
    //         }
    //         newGenus.speces=hasImgToTop(newGenus.speces);
    //         newGenuses.push(newGenus);
    //     }
    //     return newGenuses;
    // }
    // function replaceByHasImg(speces,spec){
    //     for(var i=0;i<speces.length;i++){
    //         var hasImg=false;
    //         for(var j=0;j<speces[i].files.length;j++){
    //             if(speces[i].files[j].type='image'&&speces[i].files[j].path!=null&&speces[i].files[j].path!=''){
    //                 hasImg=true;
    //                 break;
    //             }
    //         }
    //         if(hasImg){
    //             break;
    //         }
    //         var files=spec.files;
    //         for(var j=0;j<files.length;j++){
    //             if(files[j].type='image'&&files[j].path!=null&&files[j].path!=''){
    //                 speces[i]=spec;
    //             }
    //         }
    //     }
    //     return speces;
    // }
    // //图片从上开始放
    // function hasImgToTop(speces){
    //     var newSpeces=[];
    //     for(var i=0;i<speces.length;i++){
    //         var hasImg=false;
    //         for(var j=0;j<speces[i].files.length;j++){
    //             if(speces[i].files[j].type='image'&&speces[i].files[j].path!=null&&speces[i].files[j].path!=''){
    //                 hasImg=true;
    //                 break;
    //             }
    //         }
    //         if(hasImg){
    //             newSpeces.unshift(speces[i]);
    //         }else{
    //             newSpeces.push(speces[i]);
    //         }
    //     }
    //     return newSpeces;
    // }
</script>
</html>
