<!DOCTYPE HTML>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="maximum-scale=1.0,minimum-scale=1.0,user-scalable=0,width=device-width,initial-scale=1.0" />
    <meta name="format-detection" content="telephone=no,email=no,date=no,address=no">
    <title>Hello APP</title>
    <link rel="stylesheet" type="text/css" href="../css/aui.css" />
    <!-- <link rel="stylesheet" type="text/css" href="../css/summernote.min.css" /> -->
    <style>
        .aui-card-list {
            margin-bottom: 0;
        }
        img{
          height: 100px;
        }
    </style>
</head>
<body>
    <section class="aui-content aui-padded-l-5 aui-padded-r-10 aui-padded-t-5">
        <div class="aui-row aui-row-padded">
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
            <div class="aui-col-xs-6">
                <div class="aui-card-list">
                    <div class="aui-card-list-content">
                      <img src="../image/d1.jpg">
                    </div>
                    <div class="aui-card-list-header aui-font-size-14">
                      <h4></h4>
                    </div>
                </div>
            </div>
        </div>
    </section>
</body>
<!-- <script type="text/javascript" src="..script/genus.js"></script> -->
<script type="text/javascript" src="../script/api.js"></script>
<script type="text/javascript" src="../script/ipaddress.js"></script>
<script type="text/javascript" src="../script/jquery.min.js"></script>
<script type="text/javascript" src="../script/bootstrap.js"></script>
<script type="text/javascript" src="../script/summernote.js"></script>
<script type="text/javascript">
 apiready = function(){
   var genusId = 73;
   loadGenus(genusId);
};
function loadGenus(genusId){
api.ajax({
    url:baseUrl+'/genus/findId/'+genusId,
    method: 'GET',
    dataType:'json',
    headers: {
        'Content-Type': 'application/json;charset=utf-8'
    },
    data: {
      values: {
       name: 'elements'
     }
    }
  },function(ret,err){
    if(ret){
        var genus=ret.data;
        if(genus!=null){
            $('#gang').html(genus.genusNameCh)
            // $('.info p').html(genus.genusDesc);
            loadSpeces(genusId,genus.genusNameCh);
        }
    }else {
        api.alert({ msg: JSON.stringify(err) });
    }
  });

}
function loadSpeces(genusId,genusNameCh){
    $.ajax({
        url:baseUrl+'/spec/findAll',
        type:'GET',
        success:function(response){

            if(response.code==200){
                var speces=response.data;

                if(speces!=null&&speces.length>0){
                    var html='';
                    for(var i=0;i<speces.length;i++){
                        var spec=speces[i];
                        if(spec.genus!=null&&spec.genus.genusId==genusId){
                            var img='';
                            if(spec.files!=null&&spec.files.length>0){
                                for(var j=0;j<spec.files.length;j++){
                                    var file=spec.files[j];
                                    if(file.type=='image'){
                                        img=baseUrl+'/'+ file.path;
                                        console.log(img);
                                        break;
                                    }
                                }
                            }
                            console.log(spec.specId);

                            html+='\
                                <div class="aui-col-xs-6">\
                                <div class="aui-card-list">\
                                    <div class="aui-card-list-content">\
                                        <img src="'+img+'">\
                                    </div>\
                                    <div class="aui-card-list-header aui-font-size-14">\
                                        <h4>'+spec.specNameCh+'</h4>\
                                    </div>\
                                </div>\
                                </div>\
                            ';
                        }
                    }
                    $('.aui-row-padded').html(html);
                    $('.aui-card-list-content').on('click',function(){
                        location.href='specdetail.html?specId='+$(this).attr('data-id');

                    });
                }
            }
        }
    });
}
</script>
</html>
